import{r as i,a as B,x as w,e as r,i as t,j as d,f as u,u as _,K as b,P as C,Q as L,k as N,R as S,o as p,t as n}from"./entry.ca1e4630.js";import{u as h}from"./fetch.f6f7d706.js";import{D as $}from"./index.f3130bac.js";const E={id:"last-users"},I=t("div",{class:"text"},"Are you sure?",-1),U={class:"flex justify-between"},j=t("h1",{class:"font-bold py-4 uppercase"},"Users",-1),D={class:"pt-3 pr-4"},M=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1),R={class:"overflow-x-auto"},T={class:"w-full whitespace-nowrap"},P=t("thead",{class:"bg-black/60"},[t("tr",null,[t("th",{class:"text-left py-3 px-2 rounded-l-lg"},"Name"),t("th",{class:"text-left py-3 px-2"},"Email"),t("th",{class:"text-left py-3 px-2"},"User Type"),t("th",{class:"text-left py-3 px-2"},"Account"),t("th",{class:"text-left py-3 px-2 rounded-r-lg"},"Actions")])],-1),V={class:"border-b border-gray-700",key:"user.id"},F={class:"py-3 px-2 font-bold"},H={class:"py-3 px-2"},K={class:"py-3 px-2"},O={class:"py-3 px-2"},G={class:"py-3 px-2"},z={class:"inline-flex items-center space-x-3"},J=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1),Q=["onClick"],W=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),Y=[W],st={__name:"index",setup(q){JSON.parse(localStorage.getItem("user"));const m=N("$awn"),l=i(!1),f=i([]),v=i([]),c=B(),x=async()=>{const{data:e}=await h(`${c.API_BASE_URL}users/all`,"$kpCV9lTCCa");f.value=e.value},g=async()=>{const{data:e}=await h(`${c.API_BASE_URL}accounts/all`,"$EKkNpDwF5x");v.value=e.value},k=e=>{const s=v.value.find(a=>a.id===e);return s?s.name:""},y=async()=>{const e=localStorage.getItem("sometraffic_delete_user"),{data:s,error:a}=await h(`${c.API_BASE_URL}users/delete/${e}`,{method:"GET",params:{id:e}},"$KvxfGLBeo7");s.value&&(l.value=!1,await m.success(s.value.message)),a.value&&(l.value=!1,await m.alert(a.value.statusMessage)),localStorage.removeItem("sometraffic_delete_user"),await x()},A=async e=>{l.value=!0,localStorage.setItem("sometraffic_delete_user",e)};return w(x),w(g),(e,s)=>{const a=S;return p(),r("div",null,[t("div",E,[d(_($),{title:"You can NOT undo this action",modalClass:"confirm-modal",visible:_(l),"onUpdate:visible":s[0]||(s[0]=o=>b(l)?l.value=o:null),cancelButton:{text:"Cancel"},okButton:{text:"Okay",onclick:()=>y()}},{default:u(()=>[I]),_:1},8,["visible","okButton"]),t("div",U,[j,t("h1",D,[d(a,{to:"/users/add"},{default:u(()=>[M]),_:1})])]),t("div",R,[t("table",T,[P,t("tbody",null,[(p(!0),r(C,null,L(_(f),o=>(p(),r("tr",V,[t("td",F,n(o.userName),1),t("td",H,n(o.email),1),t("td",K,n(o.userType),1),t("td",O,n(k(o.AccountId)),1),t("td",G,[t("div",z,[d(a,{to:`/users/${o.id}`,title:"Edit",class:"hover:text-white"},{default:u(()=>[J]),_:2},1032,["to"]),t("span",{onClick:X=>A(o.id),title:"Delete",class:"hover:text-white"},Y,8,Q)])])]))),128))])])])])])}}};export{st as default};
