import{q as ye,r as oe,b as fe,a as xe,S as be,F as ne,x as Le,e as le,i as s,j as re,f as ce,u as d,K as De,t as p,D as Se,E as je,O as Ie,P as ke,Q as Ae,k as Be,o as ue,m as $e,L as Me,M as Te,R as Oe}from"./entry.ca1e4630.js";import{u as de}from"./fetch.f6f7d706.js";import{D as Pe}from"./index.f3130bac.js";const _=ae=>(Me("data-v-17b68dbe"),ae=ae(),Te(),ae),Ee={id:"click_data",class:"shadow sm:rounded-md"},Ue=_(()=>s("div",{class:"text"}," There are tasks or information records related to this category item. By deleting this item, they will also be deleted. Deleting can not be undone! Are you sure you want to delete the Category item and related records from the database? ",-1)),qe={class:"flex justify-between"},Ne={class:"font-bold py-4 capitalize"},ze={class:"flex items-start"},Ge={class:"flex border-2 rounded"},Re={class:"relative"},Fe=_(()=>s("svg",{color:"black",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)),Ve=[Fe],Ke=_(()=>s("svg",{class:"w-6 h-6 text-slate-50",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[s("path",{d:"M16.32 14.9l5.39 5.4a1 1 0 0 1-1.42 1.4l-5.38-5.38a8 8 0 1 1 1.41-1.41zM10 16a6 6 0 1 0 0-12 6 6 0 0 0 0 12z"})],-1)),He=[Ke],We=_(()=>s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1)),Je=[We],Qe=_(()=>s("div",{class:"flex items-center justify-center"},null,-1)),Xe={class:"overflow-x-auto"},Ye={class:"w-full whitespace-nowrap"},Ze=_(()=>s("thead",{class:"bg-black/60"},[s("tr",null,[s("th",{class:"text-left py-3 px-2"},"Item ID"),s("th",{class:"text-left py-3 px-2 title-th"},"Title"),s("th",{class:"text-left py-3 px-2"},"Category"),s("th",{class:"text-left py-3 px-2"},"Priority"),s("th",{class:"text-left py-3 px-2"},"Group"),s("th",{class:"text-left py-3 px-2 rounded-r-lg"},"Actions")])],-1)),we={class:"border-b border-gray-700",key:"clickdata.id"},et={class:"py-3 px-2"},tt={class:"py-3 px-2 title-td"},st={class:"py-3 px-2 capitalize"},at={class:"py-3 px-2 capitalize"},ot={class:"py-3 px-2 capitalize"},it={class:"py-3 px-2"},nt={class:"inline-flex items-center space-x-3"},lt=_(()=>s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1)),rt=["onClick"],ct=_(()=>s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)),ut=[ct],dt={__name:"index",setup(ae){const _e=Be("$awn"),v=oe(!1),c=oe([]),u=oe([]),g=oe(0),a=fe({vaClDa:""}),ie=xe(),ge=()=>{a.vaClDa="",u.value=c.value,g.value=c.value.length},pe=()=>{var o;u.value=(o=c==null?void 0:c._value)==null?void 0:o.filter(e=>{var n,t,i,l,r,C,h,m,y,f,x,b,L,D,S,j,I,k,A,B,$,M,T,O,P,E,U,q,N,z,G,R,F,V,K,H,W,J,Q,X,Y,Z,w,ee,te,se;return((i=e.username.toLowerCase())==null?void 0:i.includes((t=(n=a.vaClDa)==null?void 0:n.toString())==null?void 0:t.toLowerCase()))||((l=e==null?void 0:e.unique_identifier)==null?void 0:l.includes(a.vaClDa))||((h=e==null?void 0:e.item_title)==null?void 0:h.toLowerCase().includes((C=(r=a.vaClDa)==null?void 0:r.toString())==null?void 0:C.toLowerCase()))||((x=(m=e==null?void 0:e.category)==null?void 0:m.toLowerCase())==null?void 0:x.includes((f=(y=a.vaClDa)==null?void 0:y.toString())==null?void 0:f.toLowerCase()))||((j=(L=(b=e==null?void 0:e.Users_Group)==null?void 0:b.name)==null?void 0:L.toLowerCase())==null?void 0:j.includes((S=(D=a.vaClDa)==null?void 0:D.toString())==null?void 0:S.toLowerCase()))||((B=(I=e==null?void 0:e.information)==null?void 0:I.toLowerCase())==null?void 0:B.includes((A=(k=a.vaClDa)==null?void 0:k.toString())==null?void 0:A.toLowerCase()))||((O=($=e==null?void 0:e.visibility)==null?void 0:$.toLowerCase())==null?void 0:O.includes((T=(M=a.vaClDa)==null?void 0:M.toString())==null?void 0:T.toLowerCase()))||((q=(P=e==null?void 0:e.automatic_status)==null?void 0:P.toLowerCase())==null?void 0:q.includes((U=(E=a.vaClDa)==null?void 0:E.toString())==null?void 0:U.toLowerCase()))||((R=(N=e==null?void 0:e.url_1_txt)==null?void 0:N.toLowerCase())==null?void 0:R.includes((G=(z=a.vaClDa)==null?void 0:z.toString())==null?void 0:G.toLowerCase()))||((H=(F=e==null?void 0:e.url_1_link)==null?void 0:F.toLowerCase())==null?void 0:H.includes((K=(V=a.vaClDa)==null?void 0:V.toString())==null?void 0:K.toLowerCase()))||((X=(W=e==null?void 0:e.url_2_txt)==null?void 0:W.toLowerCase())==null?void 0:X.includes((Q=(J=a.vaClDa)==null?void 0:J.toString())==null?void 0:Q.toLowerCase()))||((ee=(Y=e==null?void 0:e.url_2_link)==null?void 0:Y.toLowerCase())==null?void 0:ee.includes((w=(Z=a.vaClDa)==null?void 0:Z.toString())==null?void 0:w.toLowerCase()))||((se=(te=e==null?void 0:e.plan_frequency)==null?void 0:te.toString())==null?void 0:se.includes(a.vaClDa))}),g.value=u.value.length},Ce=()=>{var o;u.value=(o=c==null?void 0:c._value)==null?void 0:o.filter(e=>{var n,t,i,l,r,C,h,m,y,f,x,b,L,D,S,j,I,k,A,B,$,M,T,O,P,E,U,q,N,z,G,R,F,V,K,H,W,J,Q,X,Y,Z,w,ee,te,se;return((i=e.username.toLowerCase())==null?void 0:i.includes((t=(n=a.vaClDa)==null?void 0:n.toString())==null?void 0:t.toLowerCase()))||((l=e==null?void 0:e.unique_identifier)==null?void 0:l.includes(a.vaClDa))||((h=e==null?void 0:e.item_title)==null?void 0:h.toLowerCase().includes((C=(r=a.vaClDa)==null?void 0:r.toString())==null?void 0:C.toLowerCase()))||((x=(m=e==null?void 0:e.category)==null?void 0:m.toLowerCase())==null?void 0:x.includes((f=(y=a.vaClDa)==null?void 0:y.toString())==null?void 0:f.toLowerCase()))||((j=(L=(b=e==null?void 0:e.Users_Group)==null?void 0:b.name)==null?void 0:L.toLowerCase())==null?void 0:j.includes((S=(D=a.vaClDa)==null?void 0:D.toString())==null?void 0:S.toLowerCase()))||((B=(I=e==null?void 0:e.information)==null?void 0:I.toLowerCase())==null?void 0:B.includes((A=(k=a.vaClDa)==null?void 0:k.toString())==null?void 0:A.toLowerCase()))||((O=($=e==null?void 0:e.visibility)==null?void 0:$.toLowerCase())==null?void 0:O.includes((T=(M=a.vaClDa)==null?void 0:M.toString())==null?void 0:T.toLowerCase()))||((q=(P=e==null?void 0:e.automatic_status)==null?void 0:P.toLowerCase())==null?void 0:q.includes((U=(E=a.vaClDa)==null?void 0:E.toString())==null?void 0:U.toLowerCase()))||((R=(N=e==null?void 0:e.url_1_txt)==null?void 0:N.toLowerCase())==null?void 0:R.includes((G=(z=a.vaClDa)==null?void 0:z.toString())==null?void 0:G.toLowerCase()))||((H=(F=e==null?void 0:e.url_1_link)==null?void 0:F.toLowerCase())==null?void 0:H.includes((K=(V=a.vaClDa)==null?void 0:V.toString())==null?void 0:K.toLowerCase()))||((X=(W=e==null?void 0:e.url_2_txt)==null?void 0:W.toLowerCase())==null?void 0:X.includes((Q=(J=a.vaClDa)==null?void 0:J.toString())==null?void 0:Q.toLowerCase()))||((ee=(Y=e==null?void 0:e.url_2_link)==null?void 0:Y.toLowerCase())==null?void 0:ee.includes((w=(Z=a.vaClDa)==null?void 0:Z.toString())==null?void 0:w.toLowerCase()))||((se=(te=e==null?void 0:e.plan_frequency)==null?void 0:te.toString())==null?void 0:se.includes(a.vaClDa))}),g.value=u.value.length},ve=async()=>{if(localStorage.getItem("activeProject")){const{data:o}=await de(`${ie.API_BASE_URL}category-items/allwithproject?projectId=${localStorage.getItem("activeProject")}`,"$f2yLIhc8fC"),e=o.value.reduce((n,t)=>{let i=t;return t.priority===1?i=Object.assign({},t,{priority:"high"}):t.priority===2?i=Object.assign({},t,{priority:"medium"}):t.priority===3?i=Object.assign({},t,{priority:"low"}):i=Object.assign({},t,{priority:"N/A"}),n.concat(i)},[]);c.value=e,u.value=e,g.value=e.length}else{let o=0;const e=setInterval(async()=>{if(localStorage.getItem("activeProject")){clearInterval(e);const{data:n}=await de(`${ie.API_BASE_URL}category-items/allwithproject?projectId=${localStorage.getItem("activeProject")}`,"$U2wNUdWFfJ"),t=n.value.reduce((i,l)=>{let r=l;return l.priority===1?r=Object.assign({},l,{priority:"high"}):l.priority===2?r=Object.assign({},l,{priority:"medium"}):l.priority===3?r=Object.assign({},l,{priority:"low"}):r=Object.assign({},l,{priority:"N/A"}),i.concat(r)},[]);c.value=t,u.value=t,g.value=t.length}else o+=1,o/10>5&&clearInterval(e)},100)}},he=async o=>{v.value=!0,localStorage.setItem("sometraffic_delete_category",o)},me=async()=>{const o=localStorage.getItem("sometraffic_delete_category"),{data:e,error:n}=await de(`${ie.API_BASE_URL}category-items/delete/${o}`,{method:"GET",params:{id:o}},"$X8EPqGy0B8");e.value&&(v.value=!1,await _e.success(e.value.message)),n.value&&(v.value=!1,await _e.alert(n.value.statusMessage)),localStorage.removeItem("sometraffic_delete_category"),await ve()};return be(()=>{document.addEventListener("keydown",o=>{let e=o.keyCode?o.keyCode:o.which;o.altKey&&e===67&&ne("/category-items/add")})}),Le(ve),(o,e)=>{const n=Oe;return ue(),le("div",null,[s("div",Ee,[re(d(Pe),{title:"You can NOT undo this action",modalClass:"confirm-modal",visible:d(v),"onUpdate:visible":e[0]||(e[0]=t=>De(v)?v.value=t:null),cancelButton:{text:"Cancel"},okButton:{text:"Okay",onclick:()=>me()}},{default:ce(()=>[Ue]),_:1},8,["visible","okButton"]),s("div",qe,[s("h1",Ne," Category Items list ("+p(d(g))+") ",1),s("button",{type:"button",onClick:e[1]||(e[1]=t=>("navigateTo"in o?o.navigateTo:d(ne))("/category-items/add")),class:"bg-[#bcbcbc] inline-flex justify-center rounded-md border border-transparent pt-3 px-4 mb-2 text-sm font-medium text-black shadow-sm hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"}," Add category item (Alt + C) "),s("div",ze,[s("div",Ge,[s("div",Re,[Se(s("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>d(a).vaClDa=t),class:"px-4 py-2 w-80 border-inherit bg-inherit pr-9 focus:outline-none focus:ring focus:border-blue-600 search",placeholder:"Search...",onKeyup:e[3]||(e[3]=Ie(t=>Ce(),["enter"]))},null,544),[[je,d(a).vaClDa]]),s("button",{class:"absolute inset-y-0 right-0 px-2",onClick:e[4]||(e[4]=t=>ge())},Ve)]),s("button",{class:"flex items-center justify-center px-4 border-l bg-blue-700",onClick:e[5]||(e[5]=t=>pe())},He),s("button",{class:"flex items-center justify-center px-4 border-l border-grey-600 bg-grey-700",onClick:e[6]||(e[6]=t=>("navigateTo"in o?o.navigateTo:d(ne))("/category-items/add"))},Je)])])]),Qe,s("div",Xe,[s("table",Ye,[Ze,s("tbody",null,[(ue(!0),le(ke,null,Ae(d(u),t=>{var i;return ue(),le("tr",we,[s("td",et,[re(n,{to:`/category-items/${t.unique_identifier}`,title:"Edit",class:"hover:text-white"},{default:ce(()=>[$e(p(t==null?void 0:t.unique_identifier),1)]),_:2},1032,["to"])]),s("td",tt,p(t==null?void 0:t.item_title),1),s("td",st,p(t==null?void 0:t.category),1),s("td",at,p(t==null?void 0:t.priority),1),s("td",ot,p((i=t==null?void 0:t.Users_Group)==null?void 0:i.name),1),s("td",it,[s("div",nt,[re(n,{to:`/category-items/${t.unique_identifier}`,title:"Edit",class:"hover:text-white"},{default:ce(()=>[lt]),_:2},1032,["to"]),s("span",{onClick:l=>he(t.id),title:"Delete",class:"hover:text-white"},ut,8,rt)])])])}),128))])])])])])}}},pt=ye(dt,[["__scopeId","data-v-17b68dbe"]]);export{pt as default};
