import{k as g,a as $,r as d,b as A,o as v,e as m,i as e,u as o,t as k,h as I,D as h,E as f,C as b,F as B,j as C,$ as E}from"./entry.ca1e4630.js";import{u}from"./fetch.f6f7d706.js";const L={class:"flex justify-center w-full items-center"},N={key:0,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative w-full mb-6",role:"alert"},M=e("strong",{class:"font-bold"},"Oops, try again! ",-1),P={class:"block sm:inline"},T=e("span",{class:"absolute top-0 bottom-0 right-0 px-4 py-3"},[e("svg",{class:"fill-current h-6 w-6 text-red-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[e("title",null,"Close"),e("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"})])],-1),j={class:"flex justify-center w-full items-center"},D={class:"w-96 flex flex-col items-center"},V=e("h1",{class:"text-center text-2xl font-bold text-gray-600 mb-4"}," Member's Login ",-1),O={class:"w-full mb-4"},R={class:"w-full mb-4"},U={class:"w-full"},F=["onClick","disabled"],J={__name:"Login",setup(w){g("$swal"),g("$awn");const i=$(),c=d(null),r=d(null),n=d([]),p=d({}),s=A({email:"",password:""}),x=async()=>{let l={email:s.email,password:s.password};const{data:t,error:a}=await u(`${i.API_BASE_URL}auth/signin`,{key:l.email,method:"POST",body:l},"$ABNRyb1YFZ");if(t.value&&(c.value=!1,localStorage.setItem("user",JSON.stringify(t.value)),localStorage.setItem("authToken",t.value.accessToken),t.value.userType==="Administrator"?(console.log("admin",n.value),await y(),n.value[0].id,localStorage.setItem("activeAccount",n.value[0].id),localStorage.setItem("activeAccountData",JSON.stringify(n.value[0]))):(console.log("not admin"),console.log(n.value),localStorage.setItem("activeAccount",t.value.AccountId),await S(t.value.AccountId),localStorage.setItem("activeAccountData",JSON.stringify(p.value))),B("/dashboard")),a.value){c.value=!0;let _=a.value.statusCode;r.value=_==404?"You didn't have any account":_==401?"Email or Password incorrect!":a.value.statusMessage,console.log("response error",a.value.statusMessage)}},y=async()=>{const{data:l}=await u(`${i.API_BASE_URL}accounts/all`,"$l1yPQj7DGn");n.value=l.value},S=async l=>{const{data:t}=await u(`${i.API_BASE_URL}accounts/${l}`,"$n7aWWupcxC");p.value=t.value};return(l,t)=>(v(),m("div",null,[e("div",L,[o(c)?(v(),m("div",N,[M,e("span",P,k(o(r)),1),T])):I("",!0)]),e("form",{onSubmit:t[2]||(t[2]=b(()=>{},["prevent"]))},[e("div",j,[e("div",D,[V,e("div",O,[h(e("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=a=>o(s).email=a),id:"email",class:"text-black w-full py-4 px-8 bg-slate-200 placeholder:font-semibold rounded hover:ring-1 focus:text-black outline-blue-500",placeholder:"Your Email",required:""},null,512),[[f,o(s).email]])]),e("div",R,[h(e("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=a=>o(s).password=a),id:"password",class:"text-black w-full py-4 px-8 bg-slate-200 placeholder:font-semibold rounded hover:ring-1 focus:text-black outline-blue-500",placeholder:"Password",required:""},null,512),[[f,o(s).password]])]),e("div",U,[e("button",{onClick:b(x,["prevent"]),disabled:o(s).password==""&&o(s).email=="",class:"py-4 bg-blue-400 w-full rounded text-blue-50 font-bold hover:bg-blue-700"}," Sign in ",8,F)])])])],32)]))}},Y={class:"w-screen h-screen relative rounded-xl overflow-auto p-8"},q={class:"space-y-8"},W={class:"relative text-sm font-medium leading-6"},z={class:"relative rounded-lg"},G={class:"static p-4 h-32 flex flex-col justify-between"},Q={class:"flex gap-4"},Z={class:"absolute top-0 right-0 bg-white shadow-lg rounded-lg p-4 text-white border-solid border-gray-600 border-2"},H=E('<div class="rounded-lg p-4 w-screen"><div class="pl-48 pt-48"><h2 class="text-4xl">Testing Sometraffic.com</h2><h2 class="text-4xl">Social media traffic</h2><br><h2 class="text-4xl">Schedule and track your</h2><h2 class="text-4xl">organic social media posts</h2></div></div>',1),ee={__name:"index",setup(w){return(i,c)=>{const r=J;return v(),m("div",null,[e("div",Y,[e("div",q,[e("div",null,[e("div",W,[e("div",z,[e("div",G,[e("div",Q,[e("div",Z,[e("div",null,[C(r)])]),H])])])])])])])])}}};export{ee as default};
