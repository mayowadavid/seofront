import{q as D,a as L,r as l,b as $,x as v,e as p,i as e,j as V,f as C,u as a,K as R,C as S,D as n,E as u,m as T,W as M,P as N,Q as E,k as O,F as k,Z as z,o as f,t as G,L as F,M as H}from"./entry.ca1e4630.js";import{u as m}from"./fetch.f6f7d706.js";import{D as J}from"./index.f3130bac.js";const d=g=>(F("data-v-d31e6898"),g=g(),H(),g),Q={id:"last-tracking-url"},W=d(()=>e("div",{class:"text"}," This item already exists in the database. Are you sure that you want to create it double? ",-1)),Z=["onSubmit"],K=d(()=>e("div",{class:"flex justify-between"},[e("h1",{class:"font-bold py-4 capitalize"},"Add a new group"),e("button",{type:"submit",class:"bg-[#bcbcbc] inline-flex justify-center rounded-md border border-transparent pt-4 px-4 text-sm font-medium text-black shadow-sm hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"}," Add group ")],-1)),X={class:"overflow-hidden shadow sm:rounded-md"},Y={class:"px-4 py-5 sm:p-6"},ee={class:"col-span-12"},te={class:"grid grid-cols-12"},se=d(()=>e("div",{class:"col-span-3 flex items-center text-sm font-medium text-gray-700"}," ID ",-1)),oe={class:"col-span-3"},ae=["disabled"],ie={class:"flex flex-row mt-4"},de={class:"basis-1/2 pr-1.5"},re={class:"col-span-12"},le={class:"grid grid-cols-12"},ne=d(()=>e("div",{class:"col-span-3 flex items-center text-sm font-medium text-gray-700"}," Created ",-1)),ce={class:"col-span-9"},ue=["disabled"],me={class:"basis-1/2 pl-1.5"},ge={class:"col-span-12"},_e={class:"grid grid-cols-12"},pe=d(()=>e("div",{class:"col-span-3 flex items-center text-sm font-medium text-gray-700"}," Created By ",-1)),fe={class:"col-span-9"},ve=["disabled"],ye={class:"col-span-12 py-2"},he={class:"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-1 lg:grid-cols-1 xl:grid-cols-12 gap-4 gap-x-4"},xe={class:"col-span-3 flex items-center text-sm font-medium text-gray-700"},be={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 ml-2 text-gray-800",style:{display:"inline-block"}},we=d(()=>e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"},null,-1)),Se=[we],ke={class:"col-span-9"},Ie=["value"],Ae={class:"col-span-12 mt-4"},Be={class:"grid grid-cols-12"},Pe=d(()=>e("div",{class:"col-span-3 flex items-center text-sm font-medium text-gray-700"}," Group name * ",-1)),qe={class:"col-span-9"},je={class:"col-span-12 sm:col-span-12 mt-4"},Ue={class:"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-1 lg:grid-cols-1 xl:grid-cols-12 gap-4 gap-x-4"},De={class:"col-span-12 sm:col-span-12"},Le=d(()=>e("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"Description",-1)),$e={__name:"add",setup(g){const r=O("$awn"),c=L(),_=l(!1),I=l([]),A=l(localStorage.getItem("activeAccount")),y=l([]),h=l(0);h.value=localStorage.getItem("activeProject")?parseInt(localStorage.getItem("activeProject")):0,localStorage.getItem("sometraffic_default_category"),localStorage.getItem("sometraffic_default_group"),localStorage.getItem("sometraffic_default_priority");let x=localStorage.getItem("user"),b=new Date().toLocaleTimeString();const w=l("");l(!1),setInterval(()=>{b=new Date().toLocaleTimeString()},10);const t=$({name:"",description:"",unique_identifier:"",ProjectId:"",createdBy:JSON.parse(x).userName,timestamp:b}),B=async()=>{const i={ProjectId:t.ProjectId,createdBy:t.createdBy,unique_identifier:t.unique_identifier,name:t.name,description:t.description};await m(`${c.API_BASE_URL}groups/create`,{method:"POST",body:i},"$Ly7Z8NG5Vf").then(s=>{s.data.value&&(r.success(s.data.value.message),w.value="",k("/user-groups")),s.error.value&&(console.log("error value1",s.error.value.data.message),r.alert(error))}).catch(s=>{console.log("error value",s),r.alert("Unable to create item.")})},P=async()=>{let i={username:t.username,timestamp:new Date,name:t.name,unique_identifier:t.unique_identifier,description:t.description,category:t.category,priority:t.priority,cat_group:t.group,visibility:t.visibility,url_1_link:t.url_1_link,url_2_txt:t.url_2_txt,url_2_link:t.url_2_link,plan_frequency:t.plan_frequency,automatic_status:t.automatic_status};await m(`${c.API_BASE_URL}category-items/create`,{method:"POST",body:i},"$ogTQaoLDgL").then(s=>{s.data.value&&(r.success(s.data.value.message),w.value="",k("/category-items")),s.error.value&&(console.log("error value1",s.error.value.data.message),_.value=!1,r.alert(error))}).catch(s=>{console.log("error value",s),r.alert("Validation error")})},q=async()=>{const{data:i,error:s}=await m(`${c.API_BASE_URL}groups/gettrackingurl`,"$CikGudidfz");i.value&&(t.unique_identifier=i.value.newTrackingURl),s.value&&await r.alert(s.value.statusMessage)},j=async()=>{const{data:i}=await m(`${c.API_BASE_URL}groups/all?userid=${JSON.parse(x).userId}`,"$tA1HXl2Lba");I.value=i.value};return v(async()=>{const{data:i}=await m(`${c.API_BASE_URL}projects/all?AccountId=${A.value}`,"$0Am7aDSRMu");y.value=i.value,t.ProjectId=h.value}),v(j),v(q),(i,s)=>{const U=z("tooltip");return f(),p("div",{onClick:s[7]||(s[7]=S((...o)=>i.doSomething&&i.doSomething(...o),["shift"]))},[e("div",Q,[V(a(J),{title:"Are you sure?",modalClass:"confirm-modal",visible:a(_),"onUpdate:visible":s[0]||(s[0]=o=>R(_)?_.value=o:null),cancelButton:{text:"Cancel"},okButton:{text:"Okay",onclick:()=>P()}},{default:C(()=>[W]),_:1},8,["visible","okButton"]),e("form",{onSubmit:S(B,["prevent"])},[K,e("div",X,[e("div",Y,[e("div",ee,[e("div",te,[se,e("div",oe,[n(e("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=o=>a(t).unique_identifier=o),disabled:a(t).unique_identifier,id:"unique_identifier",class:"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm",required:""},null,8,ae),[[u,a(t).unique_identifier]])])])]),e("div",ie,[e("div",de,[e("div",re,[e("div",le,[ne,e("div",ce,[n(e("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=o=>a(t).timestamp=o),disabled:a(t).timestamp,id:"timestamp",class:"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm",required:""},null,8,ue),[[u,a(t).timestamp]])])])])]),e("div",me,[e("div",ge,[e("div",_e,[pe,e("div",fe,[n(e("input",{type:"text","onUpdate:modelValue":s[3]||(s[3]=o=>a(t).createdBy=o),disabled:a(t).createdBy,id:"username",class:"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm",required:""},null,8,ve),[[u,a(t).createdBy]])])])])])]),e("div",ye,[e("div",he,[e("div",xe,[T(" Related to Project * "),n((f(),p("svg",be,Se)),[[U,{content:"<div>Obligatory, here you have to select which project you want to add group to.</div>",html:!0},void 0,{right:!0}]])]),e("div",ke,[n(e("select",{"onUpdate:modelValue":s[4]||(s[4]=o=>a(t).ProjectId=o),id:"category",class:"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm",required:""},[(f(!0),p(N,null,E(a(y),o=>(f(),p("option",{key:o.id,value:o.id},G(o.name),9,Ie))),128))],512),[[M,a(t).ProjectId]])])])]),e("div",Ae,[e("div",Be,[Pe,e("div",qe,[n(e("input",{placeholder:"Need to enter account name (obligatory)",type:"text","onUpdate:modelValue":s[5]||(s[5]=o=>a(t).name=o),id:"name",class:"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm",required:""},null,512),[[u,a(t).name]])])])]),e("div",je,[e("div",Ue,[e("div",De,[Le,n(e("textarea",{"onUpdate:modelValue":s[6]||(s[6]=o=>a(t).description=o),rows:"6",id:"description",class:"bg-[#dddddd] py-2 px-3 text-gray-900 mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm",placeholder:"(free text field, 1000 characters max, about 30 sentenses max) what is the goal of this item or group"},null,512),[[u,a(t).description]])])])])])])],40,Z)])])}}},Me=D($e,[["__scopeId","data-v-d31e6898"]]);export{Me as default};
