import{a as me,k as he,l as pe,r as K,b as Ce,T as fe,x as ge,o as J,e as Q,j as V,f as W,u as v,K as xe,i as s,t as _,D as Z,V as oe,O as ye,E as Le,P as $e,Q as De,m as ne,R as Se}from"./entry.ca1e4630.js";import{u as k}from"./fetch.f6f7d706.js";import{m as Ie}from"./index.046527df.js";import{D as be}from"./index.f3130bac.js";const Ae=""+new URL("right-arrow.b7db5663.png",import.meta.url).href,je=s("div",{class:"text"},"Are you sure?",-1),Be={class:"flex justify-between"},Me={class:"font-bold py-4 capitalize"},Pe=s("img",{style:{width:"20px","margin-top":"20px"},src:Ae,class:"tasks"},null,-1),ze={class:"flex items-start"},Ee={class:"flex border-2 rounded"},Ne={class:"relative"},Te=s("svg",{color:"#000",xmlns:"http://www.w3.org/2000/svg",node_modules:"",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),Ue=[Te],qe=s("svg",{class:"w-6 h-6 text-slate-50",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[s("path",{d:"M16.32 14.9l5.39 5.4a1 1 0 0 1-1.42 1.4l-5.38-5.38a8 8 0 1 1 1.41-1.41zM10 16a6 6 0 1 0 0-12 6 6 0 0 0 0 12z"})],-1),He=[qe],Ye=s("div",{class:"flex items-center justify-center"},null,-1),Re={class:"overflow-x-auto"},Oe={class:"w-full whitespace-nowrap"},Ve=s("thead",{class:"bg-black/60"},[s("tr",null,[s("th",{class:"text-left py-3 px-2"},"Task ID"),s("th",{class:"text-left py-3 px-2"},"Item ID"),s("th",{class:"text-left py-3 px-2"},"Information"),s("th",{class:"text-left py-3 px-2"},"Category"),s("th",{class:"text-left py-3 px-2"},"Priority"),s("th",{class:"text-left py-3 px-2"},"Status"),s("th",{class:"text-left py-3 px-2"},"Due Date"),s("th",{class:"text-left py-3 px-2 rounded-r-lg"},"Actions")])],-1),We={class:"border-b border-gray-700",key:"clickdata.id"},Fe={class:"py-3 px-2"},Ke={class:"py-3 px-2"},Ge={class:"py-3 px-2"},Xe={class:"py-3 px-2 capitalize"},Je={class:"py-3 px-2 capitalize"},Qe={class:"py-3 px-2 capitalize"},Ze={class:"py-3 px-2 capitalize"},ke={class:"py-3 px-2"},we={class:"inline-flex items-center space-x-3"},et=s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1),tt=["onClick"],st=s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),at=[st],lt={name:"TasksAll",props:["limit","showSearch","itemid"]},Fs=Object.assign(lt,{props:{showSearch:Boolean,limit:Number,itemid:Number},setup(X){const ie=X,G=me(),w=he("$awn"),{id:F}=pe().query,c=K(!1),r=K([]),d=K([]),m=K(0),l=Ce({vaClDa:F!==void 0?F:""}),{limit:se,itemid:ee,showSearch:ae}=fe(ie),ue=()=>{l.vaClDa="",d.value=r.value,m.value=r.value.length},le=()=>{var t;d.value=(t=r==null?void 0:r._value)==null?void 0:t.filter(a=>{var u,o,h,p,C,f,g,x,y,L,$,D,S,I,b,A,j,B,M,P,z,E,N,T,U,q,H,Y,R,O,_e,ve,ce;return((h=a.username.toLowerCase())==null?void 0:h.includes((o=(u=l.vaClDa)==null?void 0:u.toString())==null?void 0:o.toLowerCase()))||((p=a==null?void 0:a.task_id)==null?void 0:p.includes(l.vaClDa))||((C=a==null?void 0:a.Category_Item.unique_identifier)==null?void 0:C.includes(l.vaClDa))||((x=a==null?void 0:a.timestamp)==null?void 0:x.toLowerCase().includes((g=(f=l.vaClDa)==null?void 0:f.toString())==null?void 0:g.toLowerCase()))||(($=a==null?void 0:a.information)==null?void 0:$.toLowerCase().includes((L=(y=l.vaClDa)==null?void 0:y.toString())==null?void 0:L.toLowerCase()))||((I=a==null?void 0:a.status)==null?void 0:I.toLowerCase().includes((S=(D=l.vaClDa)==null?void 0:D.toString())==null?void 0:S.toLowerCase()))||((j=a==null?void 0:a.due_date_time)==null?void 0:j.toLowerCase().includes((A=(b=l.vaClDa)==null?void 0:b.toString())==null?void 0:A.toLowerCase()))||((z=(B=a==null?void 0:a.url_1_txt)==null?void 0:B.toLowerCase())==null?void 0:z.includes((P=(M=l.vaClDa)==null?void 0:M.toString())==null?void 0:P.toLowerCase()))||((U=(E=a==null?void 0:a.url_1_link)==null?void 0:E.toLowerCase())==null?void 0:U.includes((T=(N=l.vaClDa)==null?void 0:N.toString())==null?void 0:T.toLowerCase()))||((R=(q=a==null?void 0:a.url_2_txt)==null?void 0:q.toLowerCase())==null?void 0:R.includes((Y=(H=l.vaClDa)==null?void 0:H.toString())==null?void 0:Y.toLowerCase()))||((ce=(O=a==null?void 0:a.url_2_link)==null?void 0:O.toLowerCase())==null?void 0:ce.includes((ve=(_e=l.vaClDa)==null?void 0:_e.toString())==null?void 0:ve.toLowerCase()))}),m.value=d.value.length},te=()=>{var t;d.value=(t=r==null?void 0:r._value)==null?void 0:t.filter(a=>{var u,o,h,p,C,f,g,x,y,L,$,D,S,I,b,A,j,B,M,P,z,E,N,T,U,q,H,Y,R,O,_e,ve,ce;return((h=a.username.toLowerCase())==null?void 0:h.includes((o=(u=l.vaClDa)==null?void 0:u.toString())==null?void 0:o.toLowerCase()))||((p=a==null?void 0:a.task_id)==null?void 0:p.includes(l.vaClDa))||((C=a==null?void 0:a.Category_Item.unique_identifier)==null?void 0:C.includes(l.vaClDa))||((x=a==null?void 0:a.timestamp)==null?void 0:x.toLowerCase().includes((g=(f=l.vaClDa)==null?void 0:f.toString())==null?void 0:g.toLowerCase()))||(($=a==null?void 0:a.information)==null?void 0:$.toLowerCase().includes((L=(y=l.vaClDa)==null?void 0:y.toString())==null?void 0:L.toLowerCase()))||((I=a==null?void 0:a.status)==null?void 0:I.toLowerCase().includes((S=(D=l.vaClDa)==null?void 0:D.toString())==null?void 0:S.toLowerCase()))||((j=a==null?void 0:a.due_date_time)==null?void 0:j.toLowerCase().includes((A=(b=l.vaClDa)==null?void 0:b.toString())==null?void 0:A.toLowerCase()))||((z=(B=a==null?void 0:a.url_1_txt)==null?void 0:B.toLowerCase())==null?void 0:z.includes((P=(M=l.vaClDa)==null?void 0:M.toString())==null?void 0:P.toLowerCase()))||((U=(E=a==null?void 0:a.url_1_link)==null?void 0:E.toLowerCase())==null?void 0:U.includes((T=(N=l.vaClDa)==null?void 0:N.toString())==null?void 0:T.toLowerCase()))||((R=(q=a==null?void 0:a.url_2_txt)==null?void 0:q.toLowerCase())==null?void 0:R.includes((Y=(H=l.vaClDa)==null?void 0:H.toString())==null?void 0:Y.toLowerCase()))||((ce=(O=a==null?void 0:a.url_2_link)==null?void 0:O.toLowerCase())==null?void 0:ce.includes((ve=(_e=l.vaClDa)==null?void 0:_e.toString())==null?void 0:ve.toLowerCase()))}),m.value=d.value.length},re=(t,a)=>{const u=new Date(t);return Ie(u).format(a)},de=t=>t===1?"high":t===2?"medium":t===3?"low":"N/A",n=async()=>{let t="";if(se.value&&(t=`limit=${se.value}`),ee.value&&(t+=`&itemid=${ee.value}`),localStorage.getItem("activeProject")){const{data:a}=await k(`${G.API_BASE_URL}tasks/allWithItemId?${t}&projectId=${localStorage.getItem("activeProject")}`,"$R3X9tSnCbw");r.value=a.value.data,d.value=a.value.data,m.value=a.value.count}else{let a=0;const u=setInterval(async()=>{if(localStorage.getItem("activeProject")){clearInterval(u);const{data:o}=await k(`${G.API_BASE_URL}tasks/allWithItemId?${t}&projectId=${localStorage.getItem("activeProject")}`,"$q9Se0lvHCP");r.value=o.value.data,d.value=o.value.data,m.value=o.value.count}else a+=1,a/10>5&&clearInterval(u)},100)}F&&le()},e=async()=>{const t=localStorage.getItem("sometraffic_delete_task"),{data:a,error:u}=await k(`${G.API_BASE_URL}tasks/delete/${t}`,{method:"GET",params:{id:t}},"$UeSHvXShdG");a.value&&(c.value=!1,await w.success(a.value.message)),u.value&&(c.value=!1,await w.alert(u.value.statusMessage)),localStorage.removeItem("sometraffic_delete_task"),await n()},i=async t=>{c.value=!0,localStorage.setItem("sometraffic_delete_task",t)};return ge(n),(t,a)=>{const u=Se;return J(),Q("div",null,[V(v(be),{title:"You can NOT undo this action",modalClass:"confirm-modal",visible:v(c),"onUpdate:visible":a[0]||(a[0]=o=>xe(c)?c.value=o:null),cancelButton:{text:"Cancel"},okButton:{text:"Okay",onclick:()=>e()}},{default:W(()=>[je]),_:1},8,["visible","okButton"]),s("div",Be,[s("h1",Me," Tasks list ("+_(v(m))+") ",1),Z(V(u,{to:`/tasks?id=${v(F)}`},{default:W(()=>[Pe]),_:1},8,["to"]),[[oe,v(ae)===!1]]),Z(s("div",ze,[s("div",Ee,[s("div",Ne,[Z(s("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=o=>v(l).vaClDa=o),class:"px-4 py-2 w-80 border-inherit bg-inherit pr-9 focus:outline-none focus:ring focus:border-blue-600 search",placeholder:"Search...",onKeyup:a[2]||(a[2]=ye(o=>te(),["enter"]))},null,544),[[Le,v(l).vaClDa]]),s("button",{class:"absolute inset-y-0 right-0 px-2",onClick:a[3]||(a[3]=o=>ue())},Ue)]),s("button",{class:"flex items-center justify-center px-4 border-l bg-blue-700",onClick:a[4]||(a[4]=o=>le())},He)])],512),[[oe,v(ae)===!0]])]),Ye,s("div",Re,[s("table",Oe,[Ve,s("tbody",null,[(J(!0),Q($e,null,De(v(d),o=>(J(),Q("tr",We,[s("td",Fe,[V(u,{to:`/tasks/${o.task_id}?id=${o.Category_Item.id}`,title:"Edit",class:"hover:text-white"},{default:W(()=>[ne(_(o==null?void 0:o.task_id),1)]),_:2},1032,["to"])]),s("td",Ke,[V(u,{to:`/category-items/${o==null?void 0:o.Category_Item.unique_identifier}`,title:"Edit",class:"hover:text-white"},{default:W(()=>[ne(_(o==null?void 0:o.Category_Item.unique_identifier),1)]),_:2},1032,["to"])]),s("td",Ge,_(o.information.length>90?(o==null?void 0:o.information.slice(0,90))+"...":o==null?void 0:o.information),1),s("td",Xe,_(o==null?void 0:o.Category_Item.category),1),s("td",Je,_(de(o==null?void 0:o.priority)),1),s("td",Qe,_(o==null?void 0:o.status),1),s("td",Ze,_(o.due_date_time?re(o.due_date_time,"YYYY-MM-DD H:mm"):"N/A"),1),s("td",ke,[s("div",we,[V(u,{to:`/tasks/${o.task_id}?id=${o.Category_Item.id}`,title:"Edit",class:"hover:text-white"},{default:W(()=>[et]),_:2},1032,["to"]),s("span",{onClick:h=>i(o.id),title:"Delete",class:"hover:text-white"},at,8,tt)])])]))),128))])])])])}}}),ot=s("div",{class:"text"},"Are you sure?",-1),nt={class:"flex justify-between"},it={class:"font-bold py-4 capitalize"},ut={style:{width:"20px","margin-top":"20px"},src:Ae,class:"tasks"},rt={class:"flex items-start"},dt={class:"flex border-2 rounded"},_t={class:"relative"},vt=s("svg",{color:"#000",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),ct=[vt],mt=s("svg",{class:"w-6 h-6 text-slate-50",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[s("path",{d:"M16.32 14.9l5.39 5.4a1 1 0 0 1-1.42 1.4l-5.38-5.38a8 8 0 1 1 1.41-1.41zM10 16a6 6 0 1 0 0-12 6 6 0 0 0 0 12z"})],-1),ht=[mt],pt=s("div",{class:"flex items-center justify-center"},null,-1),Ct={class:"overflow-x-auto"},ft={class:"w-full whitespace-nowrap"},gt=s("thead",{class:"bg-black/60"},[s("tr",null,[s("th",{class:"text-left py-3 px-2"},"Task ID"),s("th",{class:"text-left py-3 px-2"},"Item ID"),s("th",{class:"text-left py-3 px-2"},"Information"),s("th",{class:"text-left py-3 px-2"},"Category"),s("th",{class:"text-left py-3 px-2"},"Priority"),s("th",{class:"text-left py-3 px-2"},"Status"),s("th",{class:"text-left py-3 px-2"},"Due Date"),s("th",{class:"text-left py-3 px-2 rounded-r-lg"},"Actions")])],-1),xt={class:"border-b border-gray-700",key:"clickdata.id"},yt={class:"py-3 px-2"},Lt={class:"py-3 px-2"},$t={class:"py-3 px-2"},Dt={class:"py-3 px-2 capitalize"},St={class:"py-3 px-2 capitalize"},It={class:"py-3 px-2 capitalize"},bt={class:"py-3 px-2 capitalize"},At={class:"py-3 px-2"},jt={class:"inline-flex items-center space-x-3"},Bt=s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1),Mt=["onClick"],Pt=s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),zt=[Pt],Et={name:"TasksUnscheduled",props:["limit","showSearch","itemid"]},Ks=Object.assign(Et,{props:{showSearch:Boolean,limit:Number,itemid:Number},setup(X){const ie=X,G=me(),w=he("$awn"),{id:F}=pe().query,c=K(!1),r=K([]),d=K([]),m=K(0),l=Ce({vaClDa:""}),se=()=>{l.vaClDa="",d.value=r.value,m.value=r.value.length},ee=()=>{var n;d.value=(n=r==null?void 0:r._value)==null?void 0:n.filter(e=>{var i,t,a,u,o,h,p,C,f,g,x,y,L,$,D,S,I,b,A,j,B,M,P,z,E,N,T,U,q,H,Y,R,O;return((a=e.username.toLowerCase())==null?void 0:a.includes((t=(i=l.vaClDa)==null?void 0:i.toString())==null?void 0:t.toLowerCase()))||((u=e==null?void 0:e.task_id)==null?void 0:u.includes(l.vaClDa))||((o=e==null?void 0:e.Category_Item.unique_identifier)==null?void 0:o.includes(l.vaClDa))||((C=e==null?void 0:e.timestamp)==null?void 0:C.toLowerCase().includes((p=(h=l.vaClDa)==null?void 0:h.toString())==null?void 0:p.toLowerCase()))||((x=e==null?void 0:e.information)==null?void 0:x.toLowerCase().includes((g=(f=l.vaClDa)==null?void 0:f.toString())==null?void 0:g.toLowerCase()))||(($=e==null?void 0:e.status)==null?void 0:$.toLowerCase().includes((L=(y=l.vaClDa)==null?void 0:y.toString())==null?void 0:L.toLowerCase()))||((I=e==null?void 0:e.due_date_time)==null?void 0:I.toLowerCase().includes((S=(D=l.vaClDa)==null?void 0:D.toString())==null?void 0:S.toLowerCase()))||((B=(b=e==null?void 0:e.url_1_txt)==null?void 0:b.toLowerCase())==null?void 0:B.includes((j=(A=l.vaClDa)==null?void 0:A.toString())==null?void 0:j.toLowerCase()))||((E=(M=e==null?void 0:e.url_1_link)==null?void 0:M.toLowerCase())==null?void 0:E.includes((z=(P=l.vaClDa)==null?void 0:P.toString())==null?void 0:z.toLowerCase()))||((q=(N=e==null?void 0:e.url_2_txt)==null?void 0:N.toLowerCase())==null?void 0:q.includes((U=(T=l.vaClDa)==null?void 0:T.toString())==null?void 0:U.toLowerCase()))||((O=(H=e==null?void 0:e.url_2_link)==null?void 0:H.toLowerCase())==null?void 0:O.includes((R=(Y=l.vaClDa)==null?void 0:Y.toString())==null?void 0:R.toLowerCase()))}),m.value=d.value.length},ae=()=>{var n;d.value=(n=r==null?void 0:r._value)==null?void 0:n.filter(e=>{var i,t,a,u,o,h,p,C,f,g,x,y,L,$,D,S,I,b,A,j,B,M,P,z,E,N,T,U,q,H,Y,R,O;return((a=e.username.toLowerCase())==null?void 0:a.includes((t=(i=l.vaClDa)==null?void 0:i.toString())==null?void 0:t.toLowerCase()))||((u=e==null?void 0:e.task_id)==null?void 0:u.includes(l.vaClDa))||((o=e==null?void 0:e.Category_Item.unique_identifier)==null?void 0:o.includes(l.vaClDa))||((C=e==null?void 0:e.timestamp)==null?void 0:C.toLowerCase().includes((p=(h=l.vaClDa)==null?void 0:h.toString())==null?void 0:p.toLowerCase()))||((x=e==null?void 0:e.information)==null?void 0:x.toLowerCase().includes((g=(f=l.vaClDa)==null?void 0:f.toString())==null?void 0:g.toLowerCase()))||(($=e==null?void 0:e.status)==null?void 0:$.toLowerCase().includes((L=(y=l.vaClDa)==null?void 0:y.toString())==null?void 0:L.toLowerCase()))||((I=e==null?void 0:e.due_date_time)==null?void 0:I.toLowerCase().includes((S=(D=l.vaClDa)==null?void 0:D.toString())==null?void 0:S.toLowerCase()))||((B=(b=e==null?void 0:e.url_1_txt)==null?void 0:b.toLowerCase())==null?void 0:B.includes((j=(A=l.vaClDa)==null?void 0:A.toString())==null?void 0:j.toLowerCase()))||((E=(M=e==null?void 0:e.url_1_link)==null?void 0:M.toLowerCase())==null?void 0:E.includes((z=(P=l.vaClDa)==null?void 0:P.toString())==null?void 0:z.toLowerCase()))||((q=(N=e==null?void 0:e.url_2_txt)==null?void 0:N.toLowerCase())==null?void 0:q.includes((U=(T=l.vaClDa)==null?void 0:T.toString())==null?void 0:U.toLowerCase()))||((O=(H=e==null?void 0:e.url_2_link)==null?void 0:H.toLowerCase())==null?void 0:O.includes((R=(Y=l.vaClDa)==null?void 0:Y.toString())==null?void 0:R.toLowerCase()))}),m.value=d.value.length},ue=(n,e)=>{const i=new Date(n);return Ie(i).format(e)},le=n=>n===1?"high":n===2?"medium":n===3?"low":"N/A",te=async()=>{const{limit:n,itemid:e}=fe(ie);let i="";if(n.value&&(i=`limit=${n.value}`),e.value&&(i+=`&itemid=${e.value}`),localStorage.getItem("activeProject")){const{data:t}=await k(`${G.API_BASE_URL}tasks/allWithItemId?${i}&projectId=${localStorage.getItem("activeProject")}&status=unscheduled`,"$inw7sVKDuY");r.value=t.value.data,d.value=t.value.data,m.value=t.value.count}else{console.log("query",i);let t=0;const a=setInterval(async()=>{if(localStorage.getItem("activeProject")){clearInterval(a);const{data:u}=await k(`${G.API_BASE_URL}tasks/allWithItemId?${i}&projectId=${localStorage.getItem("activeProject")}&status=unscheduled`,"$fkIemg131F");r.value=u.value.data,d.value=u.value.data,m.value=u.value.count}else t+=1,t/10>5&&clearInterval(a)},100)}F&&ee()},re=async()=>{const n=localStorage.getItem("sometraffic_delete_task"),{data:e,error:i}=await k(`${G.API_BASE_URL}tasks/delete/${n}`,{method:"GET",params:{id:n}},"$hg0MgzEzjT");e.value&&(c.value=!1,await w.success(e.value.message)),i.value&&(c.value=!1,await w.alert(i.value.statusMessage)),localStorage.removeItem("sometraffic_delete_task"),await te()},de=async n=>{c.value=!0,localStorage.setItem("sometraffic_delete_task",n)};return ge(te),(n,e)=>{const i=Se;return J(),Q("div",null,[V(v(be),{title:"You can NOT undo this action",modalClass:"confirm-modal",visible:v(c),"onUpdate:visible":e[0]||(e[0]=t=>xe(c)?c.value=t:null),cancelButton:{text:"Cancel"},okButton:{text:"Okay",onclick:()=>re()}},{default:W(()=>[ot]),_:1},8,["visible","okButton"]),s("div",nt,[s("h1",it," Tasks list ("+_(v(m))+") ",1),V(i,{to:`/tasks?id=${v(F)}`},{default:W(()=>[Z(s("img",ut,null,512),[[oe,X.showSearch===!1]])]),_:1},8,["to"]),Z(s("div",rt,[s("div",dt,[s("div",_t,[Z(s("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>v(l).vaClDa=t),class:"px-4 py-2 w-80 border-inherit bg-inherit pr-9 focus:outline-none focus:ring focus:border-blue-600 search",placeholder:"Search...",onKeyup:e[2]||(e[2]=ye(t=>ae(),["enter"]))},null,544),[[Le,v(l).vaClDa]]),s("button",{class:"absolute inset-y-0 right-0 px-2",onClick:e[3]||(e[3]=t=>se())},ct)]),s("button",{class:"flex items-center justify-center px-4 border-l bg-blue-700",onClick:e[4]||(e[4]=t=>ee())},ht)])],512),[[oe,X.showSearch===!0]])]),pt,s("div",Ct,[s("table",ft,[gt,s("tbody",null,[(J(!0),Q($e,null,De(v(d),t=>(J(),Q("tr",xt,[s("td",yt,[V(i,{to:`/tasks/${t.task_id}?id=${t.Category_Item.id}`,title:"Edit",class:"hover:text-white"},{default:W(()=>[ne(_(t==null?void 0:t.task_id),1)]),_:2},1032,["to"])]),s("td",Lt,[V(i,{to:`/category-items/${t==null?void 0:t.Category_Item.unique_identifier}`,title:"Edit",class:"hover:text-white"},{default:W(()=>[ne(_(t==null?void 0:t.Category_Item.unique_identifier),1)]),_:2},1032,["to"])]),s("td",$t,_(t.information.length>90?(t==null?void 0:t.information.slice(0,90))+"...":t==null?void 0:t.information),1),s("td",Dt,_(t==null?void 0:t.Category_Item.category),1),s("td",St,_(le(t==null?void 0:t.priority)),1),s("td",It,_(t==null?void 0:t.status),1),s("td",bt,_(t.due_date_time?ue(t.due_date_time,"YYYY-MM-DD H:mm"):"N/A"),1),s("td",At,[s("div",jt,[V(i,{to:`/tasks/${t.task_id}?id=${t.Category_Item.id}`,title:"Edit",class:"hover:text-white"},{default:W(()=>[Bt]),_:2},1032,["to"]),s("span",{onClick:a=>de(t.id),title:"Delete",class:"hover:text-white"},zt,8,Mt)])])]))),128))])])])])}}}),Nt=s("div",{class:"text"},"Are you sure?",-1),Tt={class:"flex justify-between"},Ut={class:"font-bold py-4 capitalize"},qt={style:{width:"20px","margin-top":"20px"},src:Ae,class:"tasks"},Ht={class:"flex items-start"},Yt={class:"flex border-2 rounded"},Rt={class:"relative"},Ot=s("svg",{color:"#000",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),Vt=[Ot],Wt=s("svg",{class:"w-6 h-6 text-slate-50",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[s("path",{d:"M16.32 14.9l5.39 5.4a1 1 0 0 1-1.42 1.4l-5.38-5.38a8 8 0 1 1 1.41-1.41zM10 16a6 6 0 1 0 0-12 6 6 0 0 0 0 12z"})],-1),Ft=[Wt],Kt=s("div",{class:"flex items-center justify-center"},null,-1),Gt={class:"overflow-x-auto"},Xt={class:"w-full whitespace-nowrap"},Jt=s("thead",{class:"bg-black/60"},[s("tr",null,[s("th",{class:"text-left py-3 px-2"},"Task ID"),s("th",{class:"text-left py-3 px-2"},"Item ID"),s("th",{class:"text-left py-3 px-2"},"Information"),s("th",{class:"text-left py-3 px-2"},"Category"),s("th",{class:"text-left py-3 px-2"},"Priority"),s("th",{class:"text-left py-3 px-2"},"Status"),s("th",{class:"text-left py-3 px-2"},"Due Date"),s("th",{class:"text-left py-3 px-2 rounded-r-lg"},"Actions")])],-1),Qt={class:"border-b border-gray-700",key:"clickdata.id"},Zt={class:"py-3 px-2"},kt={class:"py-3 px-2"},wt={class:"py-3 px-2"},es={class:"py-3 px-2 capitalize"},ts={class:"py-3 px-2 capitalize"},ss={class:"py-3 px-2 capitalize"},as={class:"py-3 px-2 capitalize"},ls={class:"py-3 px-2"},os={class:"inline-flex items-center space-x-3"},ns=s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1),is=["onClick"],us=s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),rs=[us],ds={name:"TasksUnscheduled",props:["limit","showSearch","itemid"]},Gs=Object.assign(ds,{props:{showSearch:Boolean,limit:Number,itemid:Number},setup(X){const ie=X,G=me(),w=he("$awn"),{id:F}=pe().query,c=K(!1),r=K([]),d=K([]),m=K(0),l=Ce({vaClDa:F!==void 0?F:""}),se=()=>{l.vaClDa="",d.value=r.value,m.value=r.value.length},ee=()=>{var n;d.value=(n=r==null?void 0:r._value)==null?void 0:n.filter(e=>{var i,t,a,u,o,h,p,C,f,g,x,y,L,$,D,S,I,b,A,j,B,M,P,z,E,N,T,U,q,H,Y,R,O;return((a=e.username.toLowerCase())==null?void 0:a.includes((t=(i=l.vaClDa)==null?void 0:i.toString())==null?void 0:t.toLowerCase()))||((u=e==null?void 0:e.task_id)==null?void 0:u.includes(l.vaClDa))||((o=e==null?void 0:e.Category_Item.unique_identifier)==null?void 0:o.includes(l.vaClDa))||((C=e==null?void 0:e.timestamp)==null?void 0:C.toLowerCase().includes((p=(h=l.vaClDa)==null?void 0:h.toString())==null?void 0:p.toLowerCase()))||((x=e==null?void 0:e.information)==null?void 0:x.toLowerCase().includes((g=(f=l.vaClDa)==null?void 0:f.toString())==null?void 0:g.toLowerCase()))||(($=e==null?void 0:e.status)==null?void 0:$.toLowerCase().includes((L=(y=l.vaClDa)==null?void 0:y.toString())==null?void 0:L.toLowerCase()))||((I=e==null?void 0:e.due_date_time)==null?void 0:I.toLowerCase().includes((S=(D=l.vaClDa)==null?void 0:D.toString())==null?void 0:S.toLowerCase()))||((B=(b=e==null?void 0:e.url_1_txt)==null?void 0:b.toLowerCase())==null?void 0:B.includes((j=(A=l.vaClDa)==null?void 0:A.toString())==null?void 0:j.toLowerCase()))||((E=(M=e==null?void 0:e.url_1_link)==null?void 0:M.toLowerCase())==null?void 0:E.includes((z=(P=l.vaClDa)==null?void 0:P.toString())==null?void 0:z.toLowerCase()))||((q=(N=e==null?void 0:e.url_2_txt)==null?void 0:N.toLowerCase())==null?void 0:q.includes((U=(T=l.vaClDa)==null?void 0:T.toString())==null?void 0:U.toLowerCase()))||((O=(H=e==null?void 0:e.url_2_link)==null?void 0:H.toLowerCase())==null?void 0:O.includes((R=(Y=l.vaClDa)==null?void 0:Y.toString())==null?void 0:R.toLowerCase()))}),m.value=d.value.length},ae=()=>{var n;d.value=(n=r==null?void 0:r._value)==null?void 0:n.filter(e=>{var i,t,a,u,o,h,p,C,f,g,x,y,L,$,D,S,I,b,A,j,B,M,P,z,E,N,T,U,q,H,Y,R,O;return((a=e.username.toLowerCase())==null?void 0:a.includes((t=(i=l.vaClDa)==null?void 0:i.toString())==null?void 0:t.toLowerCase()))||((u=e==null?void 0:e.task_id)==null?void 0:u.includes(l.vaClDa))||((o=e==null?void 0:e.Category_Item.unique_identifier)==null?void 0:o.includes(l.vaClDa))||((C=e==null?void 0:e.timestamp)==null?void 0:C.toLowerCase().includes((p=(h=l.vaClDa)==null?void 0:h.toString())==null?void 0:p.toLowerCase()))||((x=e==null?void 0:e.information)==null?void 0:x.toLowerCase().includes((g=(f=l.vaClDa)==null?void 0:f.toString())==null?void 0:g.toLowerCase()))||(($=e==null?void 0:e.status)==null?void 0:$.toLowerCase().includes((L=(y=l.vaClDa)==null?void 0:y.toString())==null?void 0:L.toLowerCase()))||((I=e==null?void 0:e.due_date_time)==null?void 0:I.toLowerCase().includes((S=(D=l.vaClDa)==null?void 0:D.toString())==null?void 0:S.toLowerCase()))||((B=(b=e==null?void 0:e.url_1_txt)==null?void 0:b.toLowerCase())==null?void 0:B.includes((j=(A=l.vaClDa)==null?void 0:A.toString())==null?void 0:j.toLowerCase()))||((E=(M=e==null?void 0:e.url_1_link)==null?void 0:M.toLowerCase())==null?void 0:E.includes((z=(P=l.vaClDa)==null?void 0:P.toString())==null?void 0:z.toLowerCase()))||((q=(N=e==null?void 0:e.url_2_txt)==null?void 0:N.toLowerCase())==null?void 0:q.includes((U=(T=l.vaClDa)==null?void 0:T.toString())==null?void 0:U.toLowerCase()))||((O=(H=e==null?void 0:e.url_2_link)==null?void 0:H.toLowerCase())==null?void 0:O.includes((R=(Y=l.vaClDa)==null?void 0:Y.toString())==null?void 0:R.toLowerCase()))}),m.value=d.value.length},ue=(n,e)=>{const i=new Date(n);return Ie(i).format(e)},le=n=>n===1?"high":n===2?"medium":n===3?"low":"N/A",te=async()=>{const{limit:n,itemid:e}=fe(ie);let i="";if(n.value&&(i=`limit=${n.value}`),e.value&&(i+=`&itemid=${e.value}`),localStorage.getItem("activeProject")){const{data:t}=await k(`${G.API_BASE_URL}tasks/allWithItemId?${i}&projectId=${localStorage.getItem("activeProject")}&status=planned`,"$zHunkZAN1c");r.value=t.value.data,d.value=t.value.data,m.value=t.value.count}else{let t=0;const a=setInterval(async()=>{if(localStorage.getItem("activeProject")){clearInterval(a);const{data:u}=await k(`${G.API_BASE_URL}tasks/allWithItemId?${i}&projectId=${localStorage.getItem("activeProject")}&status=planned`,"$whEffoFTPP");r.value=u.value.data,d.value=u.value.data,m.value=u.value.count}else t+=1,t/10>5&&clearInterval(a)},100)}F&&ee()},re=async()=>{const n=localStorage.getItem("sometraffic_delete_task"),{data:e,error:i}=await k(`${G.API_BASE_URL}tasks/delete/${n}`,{method:"GET",params:{id:n}},"$B7ixu3eVOH");e.value&&(c.value=!1,await w.success(e.value.message)),i.value&&(c.value=!1,await w.alert(i.value.statusMessage)),localStorage.removeItem("sometraffic_delete_task"),await te()},de=async n=>{c.value=!0,localStorage.setItem("sometraffic_delete_task",n)};return ge(te),(n,e)=>{const i=Se;return J(),Q("div",null,[V(v(be),{title:"You can NOT undo this action",modalClass:"confirm-modal",visible:v(c),"onUpdate:visible":e[0]||(e[0]=t=>xe(c)?c.value=t:null),cancelButton:{text:"Cancel"},okButton:{text:"Okay",onclick:()=>re()}},{default:W(()=>[Nt]),_:1},8,["visible","okButton"]),s("div",Tt,[s("h1",Ut," Tasks list ("+_(v(m))+") ",1),V(i,{to:`/tasks?id=${v(F)}`},{default:W(()=>[Z(s("img",qt,null,512),[[oe,X.showSearch===!1]])]),_:1},8,["to"]),Z(s("div",Ht,[s("div",Yt,[s("div",Rt,[Z(s("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>v(l).vaClDa=t),class:"px-4 py-2 w-80 border-inherit bg-inherit pr-9 focus:outline-none focus:ring focus:border-blue-600 search",placeholder:"Search...",onKeyup:e[2]||(e[2]=ye(t=>ae(),["enter"]))},null,544),[[Le,v(l).vaClDa]]),s("button",{class:"absolute inset-y-0 right-0 px-2",onClick:e[3]||(e[3]=t=>se())},Vt)]),s("button",{class:"flex items-center justify-center px-4 border-l bg-blue-700",onClick:e[4]||(e[4]=t=>ee())},Ft)])],512),[[oe,X.showSearch===!0]])]),Kt,s("div",Gt,[s("table",Xt,[Jt,s("tbody",null,[(J(!0),Q($e,null,De(v(d),t=>(J(),Q("tr",Qt,[s("td",Zt,[V(i,{to:`/tasks/${t.task_id}?id=${t.Category_Item.id}`,title:"Edit",class:"hover:text-white"},{default:W(()=>[ne(_(t==null?void 0:t.task_id),1)]),_:2},1032,["to"])]),s("td",kt,[V(i,{to:`/category-items/${t==null?void 0:t.Category_Item.unique_identifier}`,title:"Edit",class:"hover:text-white"},{default:W(()=>[ne(_(t==null?void 0:t.Category_Item.unique_identifier),1)]),_:2},1032,["to"])]),s("td",wt,_(t.information.length>90?(t==null?void 0:t.information.slice(0,90))+"...":t==null?void 0:t.information),1),s("td",es,_(t==null?void 0:t.Category_Item.category),1),s("td",ts,_(le(t==null?void 0:t.priority)),1),s("td",ss,_(t==null?void 0:t.status),1),s("td",as,_(t.due_date_time?ue(t.due_date_time,"YYYY-MM-DD H:mm"):"N/A"),1),s("td",ls,[s("div",os,[V(i,{to:`/tasks/${t.task_id}?id=${t.Category_Item.id}`,title:"Edit",class:"hover:text-white"},{default:W(()=>[ns]),_:2},1032,["to"]),s("span",{onClick:a=>de(t.id),title:"Delete",class:"hover:text-white"},rs,8,is)])])]))),128))])])])])}}}),_s=s("div",{class:"text"},"Are you sure?",-1),vs={class:"flex justify-between"},cs={class:"font-bold py-4 capitalize"},ms={style:{width:"20px","margin-top":"20px"},src:Ae,class:"tasks"},hs={class:"flex items-start"},ps={class:"flex border-2 rounded"},Cs={class:"relative"},fs=s("svg",{color:"#000",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),gs=[fs],xs=s("svg",{class:"w-6 h-6 text-slate-50",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[s("path",{d:"M16.32 14.9l5.39 5.4a1 1 0 0 1-1.42 1.4l-5.38-5.38a8 8 0 1 1 1.41-1.41zM10 16a6 6 0 1 0 0-12 6 6 0 0 0 0 12z"})],-1),ys=[xs],Ls=s("div",{class:"flex items-center justify-center"},null,-1),$s={class:"overflow-x-auto"},Ds={class:"w-full whitespace-nowrap"},Ss=s("thead",{class:"bg-black/60"},[s("tr",null,[s("th",{class:"text-left py-3 px-2"},"Task ID"),s("th",{class:"text-left py-3 px-2"},"Item ID"),s("th",{class:"text-left py-3 px-2"},"Information"),s("th",{class:"text-left py-3 px-2"},"Category"),s("th",{class:"text-left py-3 px-2"},"Priority"),s("th",{class:"text-left py-3 px-2"},"Status"),s("th",{class:"text-left py-3 px-2"},"Due Date"),s("th",{class:"text-left py-3 px-2 rounded-r-lg"},"Actions")])],-1),Is={class:"border-b border-gray-700",key:"clickdata.id"},bs={class:"py-3 px-2"},As={class:"py-3 px-2"},js={class:"py-3 px-2"},Bs={class:"py-3 px-2 capitalize"},Ms={class:"py-3 px-2 capitalize"},Ps={class:"py-3 px-2 capitalize"},zs={class:"py-3 px-2 capitalize"},Es={class:"py-3 px-2"},Ns={class:"inline-flex items-center space-x-3"},Ts=s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1),Us=["onClick"],qs=s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),Hs=[qs],Ys={name:"TasksUnscheduled",props:["limit","showSearch","itemid"]},Xs=Object.assign(Ys,{props:{showSearch:Boolean,limit:Number,itemid:Number},setup(X){const ie=X,G=me(),w=he("$awn"),{id:F}=pe().query,c=K(!1),r=K([]),d=K([]),m=K(0),l=Ce({vaClDa:F!==void 0?F:""}),se=()=>{l.vaClDa="",d.value=r.value,m.value=r.value.length},ee=()=>{var n;d.value=(n=r==null?void 0:r._value)==null?void 0:n.filter(e=>{var i,t,a,u,o,h,p,C,f,g,x,y,L,$,D,S,I,b,A,j,B,M,P,z,E,N,T,U,q,H,Y,R,O;return((a=e.username.toLowerCase())==null?void 0:a.includes((t=(i=l.vaClDa)==null?void 0:i.toString())==null?void 0:t.toLowerCase()))||((u=e==null?void 0:e.task_id)==null?void 0:u.includes(l.vaClDa))||((o=e==null?void 0:e.Category_Item.unique_identifier)==null?void 0:o.includes(l.vaClDa))||((C=e==null?void 0:e.timestamp)==null?void 0:C.toLowerCase().includes((p=(h=l.vaClDa)==null?void 0:h.toString())==null?void 0:p.toLowerCase()))||((x=e==null?void 0:e.information)==null?void 0:x.toLowerCase().includes((g=(f=l.vaClDa)==null?void 0:f.toString())==null?void 0:g.toLowerCase()))||(($=e==null?void 0:e.status)==null?void 0:$.toLowerCase().includes((L=(y=l.vaClDa)==null?void 0:y.toString())==null?void 0:L.toLowerCase()))||((I=e==null?void 0:e.due_date_time)==null?void 0:I.toLowerCase().includes((S=(D=l.vaClDa)==null?void 0:D.toString())==null?void 0:S.toLowerCase()))||((B=(b=e==null?void 0:e.url_1_txt)==null?void 0:b.toLowerCase())==null?void 0:B.includes((j=(A=l.vaClDa)==null?void 0:A.toString())==null?void 0:j.toLowerCase()))||((E=(M=e==null?void 0:e.url_1_link)==null?void 0:M.toLowerCase())==null?void 0:E.includes((z=(P=l.vaClDa)==null?void 0:P.toString())==null?void 0:z.toLowerCase()))||((q=(N=e==null?void 0:e.url_2_txt)==null?void 0:N.toLowerCase())==null?void 0:q.includes((U=(T=l.vaClDa)==null?void 0:T.toString())==null?void 0:U.toLowerCase()))||((O=(H=e==null?void 0:e.url_2_link)==null?void 0:H.toLowerCase())==null?void 0:O.includes((R=(Y=l.vaClDa)==null?void 0:Y.toString())==null?void 0:R.toLowerCase()))}),m.value=d.value.length},ae=()=>{var n;d.value=(n=r==null?void 0:r._value)==null?void 0:n.filter(e=>{var i,t,a,u,o,h,p,C,f,g,x,y,L,$,D,S,I,b,A,j,B,M,P,z,E,N,T,U,q,H,Y,R,O;return((a=e.username.toLowerCase())==null?void 0:a.includes((t=(i=l.vaClDa)==null?void 0:i.toString())==null?void 0:t.toLowerCase()))||((u=e==null?void 0:e.task_id)==null?void 0:u.includes(l.vaClDa))||((o=e==null?void 0:e.Category_Item.unique_identifier)==null?void 0:o.includes(l.vaClDa))||((C=e==null?void 0:e.timestamp)==null?void 0:C.toLowerCase().includes((p=(h=l.vaClDa)==null?void 0:h.toString())==null?void 0:p.toLowerCase()))||((x=e==null?void 0:e.information)==null?void 0:x.toLowerCase().includes((g=(f=l.vaClDa)==null?void 0:f.toString())==null?void 0:g.toLowerCase()))||(($=e==null?void 0:e.status)==null?void 0:$.toLowerCase().includes((L=(y=l.vaClDa)==null?void 0:y.toString())==null?void 0:L.toLowerCase()))||((I=e==null?void 0:e.due_date_time)==null?void 0:I.toLowerCase().includes((S=(D=l.vaClDa)==null?void 0:D.toString())==null?void 0:S.toLowerCase()))||((B=(b=e==null?void 0:e.url_1_txt)==null?void 0:b.toLowerCase())==null?void 0:B.includes((j=(A=l.vaClDa)==null?void 0:A.toString())==null?void 0:j.toLowerCase()))||((E=(M=e==null?void 0:e.url_1_link)==null?void 0:M.toLowerCase())==null?void 0:E.includes((z=(P=l.vaClDa)==null?void 0:P.toString())==null?void 0:z.toLowerCase()))||((q=(N=e==null?void 0:e.url_2_txt)==null?void 0:N.toLowerCase())==null?void 0:q.includes((U=(T=l.vaClDa)==null?void 0:T.toString())==null?void 0:U.toLowerCase()))||((O=(H=e==null?void 0:e.url_2_link)==null?void 0:H.toLowerCase())==null?void 0:O.includes((R=(Y=l.vaClDa)==null?void 0:Y.toString())==null?void 0:R.toLowerCase()))}),m.value=d.value.length},ue=(n,e)=>{const i=new Date(n);return Ie(i).format(e)},le=n=>n===1?"high":n===2?"medium":n===3?"low":"N/A",te=async()=>{const{limit:n,itemid:e}=fe(ie);let i="";if(n.value&&(i=`limit=${n.value}`),e.value&&(i+=`&itemid=${e.value}`),localStorage.getItem("activeProject")){const{data:t}=await k(`${G.API_BASE_URL}tasks/allWithItemId?${i}&projectId=${localStorage.getItem("activeProject")}&status=history`,"$9CvJ3FHGy8");r.value=t.value.data,d.value=t.value.data,m.value=t.value.count}else{let t=0;const a=setInterval(async()=>{if(localStorage.getItem("activeProject")){clearInterval(a);const{data:u}=await k(`${G.API_BASE_URL}tasks/allWithItemId?${i}&projectId=${localStorage.getItem("activeProject")}&status=history`,"$UC29vmq68U");r.value=u.value.data,d.value=u.value.data,m.value=u.value.count}else t+=1,t/10>5&&clearInterval(a)},100)}F&&ee()},re=async()=>{const n=localStorage.getItem("sometraffic_delete_task"),{data:e,error:i}=await k(`${G.API_BASE_URL}tasks/delete/${n}`,{method:"GET",params:{id:n}},"$iB3MWDSpUd");e.value&&(c.value=!1,await w.success(e.value.message)),i.value&&(c.value=!1,await w.alert(i.value.statusMessage)),localStorage.removeItem("sometraffic_delete_task"),await te()},de=async n=>{c.value=!0,localStorage.setItem("sometraffic_delete_task",n)};return ge(te),(n,e)=>{const i=Se;return J(),Q("div",null,[V(v(be),{title:"You can NOT undo this action",modalClass:"confirm-modal",visible:v(c),"onUpdate:visible":e[0]||(e[0]=t=>xe(c)?c.value=t:null),cancelButton:{text:"Cancel"},okButton:{text:"Okay",onclick:()=>re()}},{default:W(()=>[_s]),_:1},8,["visible","okButton"]),s("div",vs,[s("h1",cs," Tasks list ("+_(v(m))+") ",1),V(i,{to:`/tasks?id=${v(F)}`},{default:W(()=>[Z(s("img",ms,null,512),[[oe,X.showSearch===!1]])]),_:1},8,["to"]),Z(s("div",hs,[s("div",ps,[s("div",Cs,[Z(s("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>v(l).vaClDa=t),class:"px-4 py-2 w-80 border-inherit bg-inherit pr-9 focus:outline-none focus:ring focus:border-blue-600 search",placeholder:"Search...",onKeyup:e[2]||(e[2]=ye(t=>ae(),["enter"]))},null,544),[[Le,v(l).vaClDa]]),s("button",{class:"absolute inset-y-0 right-0 px-2",onClick:e[3]||(e[3]=t=>se())},gs)]),s("button",{class:"flex items-center justify-center px-4 border-l bg-blue-700",onClick:e[4]||(e[4]=t=>ee())},ys)])],512),[[oe,X.showSearch===!0]])]),Ls,s("div",$s,[s("table",Ds,[Ss,s("tbody",null,[(J(!0),Q($e,null,De(v(d),t=>(J(),Q("tr",Is,[s("td",bs,[V(i,{to:`/tasks/${t.task_id}?id=${t.Category_Item.id}`,title:"Edit",class:"hover:text-white"},{default:W(()=>[ne(_(t==null?void 0:t.task_id),1)]),_:2},1032,["to"])]),s("td",As,[V(i,{to:`/category-items/${t==null?void 0:t.Category_Item.unique_identifier}`,title:"Edit",class:"hover:text-white"},{default:W(()=>[ne(_(t==null?void 0:t.Category_Item.unique_identifier),1)]),_:2},1032,["to"])]),s("td",js,_(t.information.length>90?(t==null?void 0:t.information.slice(0,90))+"...":t==null?void 0:t.information),1),s("td",Bs,_(t==null?void 0:t.Category_Item.category),1),s("td",Ms,_(le(t==null?void 0:t.priority)),1),s("td",Ps,_(t==null?void 0:t.status),1),s("td",zs,_(t.due_date_time?ue(t.due_date_time,"YYYY-MM-DD H:mm"):"N/A"),1),s("td",Es,[s("div",Ns,[V(i,{to:`/tasks/${t.task_id}?id=${t.Category_Item.id}`,title:"Edit",class:"hover:text-white"},{default:W(()=>[Ts]),_:2},1032,["to"]),s("span",{onClick:a=>de(t.id),title:"Delete",class:"hover:text-white"},Hs,8,Us)])])]))),128))])])])])}}});export{Ae as _,Fs as a,Ks as b,Gs as c,Xs as d};
