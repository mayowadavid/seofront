import{q as y,a as b,r as g,b as w,x as k,e as B,i as e,j as S,f as q,u as o,K as U,C as _,D as n,E as r,k as C,o as A,L as I,M as L,F as D,G as T}from"./entry.ca1e4630.js";import{u as f}from"./fetch.f6f7d706.js";import{D as R}from"./index.f3130bac.js";const i=c=>(I("data-v-716f6f30"),c=c(),L(),c),V={id:"last-tracking-url"},M=i(()=>e("div",{class:"text"}," This item already exists in the database. Are you sure that you want to create it double? ",-1)),N=["onSubmit"],j=i(()=>e("div",{class:"flex justify-between"},[e("h1",{class:"font-bold py-4 capitalize"},"Create a new account"),e("button",{type:"submit",class:"bg-[#bcbcbc] inline-flex justify-center rounded-md border border-transparent pt-4 px-4 text-sm font-medium text-black shadow-sm hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"}," Create Account ")],-1)),$={class:"overflow-hidden shadow sm:rounded-md"},E={class:"px-4 py-5 sm:p-6"},O={class:"col-span-12"},P={class:"grid grid-cols-12"},F=i(()=>e("div",{class:"col-span-3 flex items-center text-sm font-medium text-gray-700"}," Item ID ",-1)),z={class:"col-span-3"},G=["disabled"],J={class:"flex flex-row mt-4"},K={class:"basis-1/2 pr-1.5"},Q={class:"col-span-12"},W={class:"grid grid-cols-12"},H=i(()=>e("div",{class:"col-span-3 flex items-center text-sm font-medium text-gray-700"}," Created ",-1)),X={class:"col-span-9"},Y=["disabled"],Z={class:"basis-1/2 pl-1.5"},ee={class:"col-span-12"},te={class:"grid grid-cols-12"},se=i(()=>e("div",{class:"col-span-3 flex items-center text-sm font-medium text-gray-700"}," Created By ",-1)),oe={class:"col-span-9"},de=["disabled"],ae={class:"col-span-12 mt-4"},ie={class:"grid grid-cols-12"},ne=i(()=>e("div",{class:"col-span-3 flex items-center text-sm font-medium text-gray-700"}," Account name * ",-1)),re={class:"col-span-9"},ce={class:"col-span-12 sm:col-span-12 mt-4"},le={class:"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-1 lg:grid-cols-1 xl:grid-cols-12 gap-4 gap-x-4"},ue={class:"col-span-12 sm:col-span-12"},me=i(()=>e("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"Description",-1)),pe={__name:"add",setup(c){const l=C("$awn"),m=b(),u=g(!1);let h=localStorage.getItem("user"),p=new Date().toLocaleTimeString();const v=g("");setInterval(()=>{p=new Date().toLocaleTimeString()},10);const s=w({createdBy:JSON.parse(h).userName,timestamp:p,unique_identifier:"",description:"",name:""}),x=async()=>{const a={createdBy:s.createdBy,name:s.name,unique_identifier:s.unique_identifier,description:s.description};await f(`${m.API_BASE_URL}accounts/create`,{method:"POST",body:a},"$LQkoovyvUf").then(t=>{t.data.value&&(l.success(t.data.value.message),v.value="",D("/accounts").then(()=>{T().go()})),t.error.value&&(console.log("error value1",t.error.value.data.message),l.alert(error))}).catch(t=>{console.log("error value",t),l.alert("Unable to create account.")})};return k(async()=>{const{data:a,error:t}=await f(`${m.API_BASE_URL}accounts/gettrackingurl`,"$DiLCLMneO5");a.value&&(s.unique_identifier=a.value.newTrackingURl),t.value&&await l.alert(t.value.statusMessage)}),(a,t)=>(A(),B("div",{onClick:t[6]||(t[6]=_((...d)=>a.doSomething&&a.doSomething(...d),["shift"]))},[e("div",V,[S(o(R),{title:"Are you sure?",modalClass:"confirm-modal",visible:o(u),"onUpdate:visible":t[0]||(t[0]=d=>U(u)?u.value=d:null),cancelButton:{text:"Cancel"},okButton:{text:"Okay",onclick:()=>a.handleSave()}},{default:q(()=>[M]),_:1},8,["visible","okButton"]),e("form",{onSubmit:_(x,["prevent"])},[j,e("div",$,[e("div",E,[e("div",O,[e("div",P,[F,e("div",z,[n(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=d=>o(s).unique_identifier=d),disabled:o(s).unique_identifier,id:"unique_identifier",class:"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm",required:""},null,8,G),[[r,o(s).unique_identifier]])])])]),e("div",J,[e("div",K,[e("div",Q,[e("div",W,[H,e("div",X,[n(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=d=>o(s).timestamp=d),disabled:o(s).timestamp,id:"timestamp",class:"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm",required:""},null,8,Y),[[r,o(s).timestamp]])])])])]),e("div",Z,[e("div",ee,[e("div",te,[se,e("div",oe,[n(e("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=d=>o(s).createdBy=d),disabled:o(s).createdBy,id:"username",class:"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm",required:""},null,8,de),[[r,o(s).createdBy]])])])])])]),e("div",ae,[e("div",ie,[ne,e("div",re,[n(e("input",{placeholder:"Need to enter account name (obligatory)",type:"text","onUpdate:modelValue":t[4]||(t[4]=d=>o(s).name=d),id:"name",class:"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm",required:""},null,512),[[r,o(s).name]])])])]),e("div",ce,[e("div",le,[e("div",ue,[me,n(e("textarea",{"onUpdate:modelValue":t[5]||(t[5]=d=>o(s).description=d),rows:"6",id:"description",class:"bg-[#dddddd] py-2 px-3 text-gray-900 mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm",placeholder:"(free text field, 1000 characters max, about 30 sentenses max) what is the goal of this item or project"},null,512),[[r,o(s).description]])])])])])])],40,N)])]))}},ve=y(pe,[["__scopeId","data-v-716f6f30"]]);export{ve as default};
